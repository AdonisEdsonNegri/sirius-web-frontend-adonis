<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIRIUS WEB - Par√¢metros</title>
    <link rel="stylesheet" href="css/parametros.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <h1>SIRIUS WEB - Par√¢metros</h1>
            <div class="user-info">
                <span id="userName">Carregando...</span>
                <button class="btn-logout" onclick="logout()">Sair</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav">
        <div class="nav-content">
            <a href="dashboard.html">Dashboard</a>
            <a href="produtos.html">Produtos</a>
            <a href="clientes.html">Clientes</a>
            <a href="#" onclick="showMessage('M√≥dulo Fornecedores em desenvolvimento!'); return false;">Fornecedores</a>
            <a href="pdv.html">PDV</a>
            <a href="pedidos.html">Pedidos</a>
            
            <!-- Dropdown Configura√ß√µes -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-btn">‚öôÔ∏è Configura√ß√µes ‚ñº</button>
                <div class="nav-dropdown-content">
                    <a href="vendedores.html">üë®‚Äçüíº Vendedores</a>
                    <a href="formas-pagamento.html">üí≥ Formas de Pagamento</a>
                    <a href="regimes-tributarios.html">üìã Regimes Tribut√°rios</a>
                    <a href="parametros.html" class="active">‚öôÔ∏è Par√¢metros</a>
                    <a href="#" onclick="showMessage('M√≥dulo Caixas Cadastradas em desenvolvimento!'); return false;">üí∞ Caixas Cadastradas</a>
                    <a href="#" onclick="showMessage('M√≥dulo Usu√°rios em desenvolvimento!'); return false;">üë• Usu√°rios</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Container Principal -->
    <div class="container">
        
        <!-- Toolbar -->
        <div class="toolbar">
            <h2>‚öôÔ∏è Par√¢metros do Sistema</h2>
            <div class="toolbar-actions">
                <button class="btn btn-primary" onclick="abrirModalNovo()">
                    ‚ûï Novo Par√¢metro
                </button>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters-card">
            <div class="filters">
                <input 
                    type="text" 
                    id="filtroParametro" 
                    placeholder="üîç Buscar por identificador..."
                    class="search-input"
                >
                <select id="filtroModulo" class="filter-select">
                    <option value="">Todos os M√≥dulos</option>
                    <option value="PDV">PDV</option>
                    <option value="NFCe">NFCe</option>
                    <option value="Vendas">Vendas</option>
                    <option value="Estoque">Estoque</option>
                    <option value="Financeiro">Financeiro</option>
                    <option value="Geral">Geral</option>
                </select>
                <input 
                    type="text" 
                    id="filtroTabela" 
                    placeholder="Filtrar por tabela..."
                    class="search-input"
                >
                <button class="btn btn-secondary" onclick="limparFiltros()">üîÑ Limpar</button>
            </div>
            <div class="filters-info">
                <span id="totalRegistros">0 par√¢metros encontrados</span>
            </div>
        </div>

        <!-- Grid de Par√¢metros -->
        <div class="parametros-grid" id="parametrosGrid">
            <!-- Preenchido via JavaScript -->
            <div class="loading">Carregando par√¢metros...</div>
        </div>

        <!-- Pagina√ß√£o -->
        <div class="pagination" id="paginacao">
            <!-- Preenchido via JavaScript -->
        </div>

    </div>

    <!-- Modal: Novo/Editar Par√¢metro -->
    <div id="modalParametro" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitulo">Novo Par√¢metro</h3>
                <span class="modal-close" onclick="fecharModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="formParametro" onsubmit="salvarParametro(event)">
                    <input type="hidden" id="id_parametro">
                    
                    <div class="form-group">
                        <label for="parametro">Identificador do Par√¢metro *</label>
                        <input 
                            type="text" 
                            id="parametro" 
                            placeholder="Ex: PDV_CLIENTE_PADRAO"
                            required
                            maxlength="200"
                        >
                        <small>Use letras mai√∫sculas, n√∫meros e underscore (_)</small>
                    </div>

                    <div class="form-group">
                        <label for="descricao">Descri√ß√£o</label>
                        <input 
                            type="text" 
                            id="descricao" 
                            placeholder="Breve descri√ß√£o do par√¢metro"
                            maxlength="500"
                        >
                    </div>

                    <div class="form-group">
                        <label for="descricaocomplementar">Descri√ß√£o Complementar</label>
                        <textarea 
                            id="descricaocomplementar" 
                            placeholder="Informa√ß√µes adicionais sobre o par√¢metro..."
                            rows="3"
                        ></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="modulo">M√≥dulo</label>
                            <select id="modulo">
                                <option value="">Selecione...</option>
                                <option value="PDV">PDV</option>
                                <option value="NFCe">NFCe</option>
                                <option value="Vendas">Vendas</option>
                                <option value="Estoque">Estoque</option>
                                <option value="Financeiro">Financeiro</option>
                                <option value="Geral">Geral</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="tabela">Tabela Relacionada</label>
                            <input 
                                type="text" 
                                id="tabela" 
                                placeholder="Ex: clientes, produtos..."
                                maxlength="100"
                            >
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="opcoes">Op√ß√µes (JSON ou CSV)</label>
                        <textarea 
                            id="opcoes" 
                            placeholder='Ex: ["opcao1", "opcao2"] ou 1,2,3,4,5'
                            rows="3"
                        ></textarea>
                        <small>Formato JSON ou valores separados por v√≠rgula</small>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="fecharModal()">
                            Cancelar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            üíæ Salvar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Visualizar Detalhes -->
    <div id="modalDetalhes" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìã Detalhes do Par√¢metro</h3>
                <span class="modal-close" onclick="fecharModalDetalhes()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="detalhes-grid">
                    <div class="detalhe-item">
                        <label>ID</label>
                        <span id="detalhe_id">-</span>
                    </div>
                    <div class="detalhe-item">
                        <label>Identificador</label>
                        <span id="detalhe_parametro" class="destaque">-</span>
                    </div>
                    <div class="detalhe-item full-width">
                        <label>Descri√ß√£o</label>
                        <span id="detalhe_descricao">-</span>
                    </div>
                    <div class="detalhe-item full-width">
                        <label>Descri√ß√£o Complementar</label>
                        <span id="detalhe_descricaocomplementar">-</span>
                    </div>
                    <div class="detalhe-item">
                        <label>M√≥dulo</label>
                        <span id="detalhe_modulo">-</span>
                    </div>
                    <div class="detalhe-item">
                        <label>Tabela</label>
                        <span id="detalhe_tabela">-</span>
                    </div>
                    <div class="detalhe-item full-width">
                        <label>Op√ß√µes</label>
                        <span id="detalhe_opcoes">-</span>
                    </div>
                    <div class="detalhe-item">
                        <label>Criado em</label>
                        <span id="detalhe_created_at">-</span>
                    </div>
                    <div class="detalhe-item">
                        <label>Atualizado em</label>
                        <span id="detalhe_updated_at">-</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="fecharModalDetalhes()">
                        Fechar
                    </button>
                    <button class="btn btn-primary" onclick="editarDoDetalhes()">
                        ‚úèÔ∏è Editar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Confirmar Exclus√£o -->
    <div id="modalExcluir" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header" style="background: #ef4444;">
                <h3>‚ö†Ô∏è Confirmar Exclus√£o</h3>
                <span class="modal-close" onclick="fecharModalExcluir()">&times;</span>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja excluir o par√¢metro:</p>
                <p><strong id="excluir_parametro">-</strong></p>
                <p class="warning">‚ö†Ô∏è Esta a√ß√£o n√£o pode ser desfeita!</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="fecharModalExcluir()">
                        Cancelar
                    </button>
                    <button class="btn btn-danger" onclick="confirmarExclusao()">
                        üóëÔ∏è Excluir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Mensagem -->
    <div id="modalMensagem" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3 id="mensagemTitulo">Informa√ß√£o</h3>
                <span class="modal-close" onclick="fecharModalMensagem()">&times;</span>
            </div>
            <div class="modal-body">
                <p id="mensagemTexto"></p>
                <div class="modal-actions">
                    <button class="btn btn-primary btn-block" onclick="fecharModalMensagem()">
                        OK
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/parametros.js"></script>
</body>
</html>
